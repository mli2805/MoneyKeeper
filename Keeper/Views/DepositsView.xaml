<Window x:Class="Keeper.Views.DepositsView"
        xml:lang="ru-RU"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Icon="/Keeper;component/Resources/safe.ico" 
        Title="DepositsView" MaxHeight="500" SizeToContent="WidthAndHeight">
  <Window.Resources>
    <ResourceDictionary>
      <DataTemplate x:Key="AmountColumnStyle">
        <TextBlock HorizontalAlignment="Right">
          <TextBlock.Text>
            <Binding Path="Amount" StringFormat="{}{0:#,0;; }"/>
          </TextBlock.Text>
        </TextBlock>
      </DataTemplate>
      <DataTemplate x:Key="CurrentBalanceColumnStyle">
        <TextBlock HorizontalAlignment="Right">
          <TextBlock.Text>
            <Binding Path="CurrentBalance" StringFormat="{}{0:#,0;; }"/>
          </TextBlock.Text>
        </TextBlock>
      </DataTemplate>
      <DataTemplate x:Key="ProfitColumnStyle">
        <TextBlock HorizontalAlignment="Right">
          <TextBlock.Text>
            <Binding Path="Profit" StringFormat="{}{0:#,0;; }"/>
          </TextBlock.Text>
        </TextBlock>
      </DataTemplate>
    </ResourceDictionary>
  </Window.Resources>
  <Grid>
    <StackPanel>
      <ListView Margin="2" ItemsSource="{Binding DepositsList}">
        <ListView.View>
          <GridView>
            <GridViewColumn Header="Наименование" Width="350" DisplayMemberBinding="{Binding Account}" />
            <GridViewColumn Header="Дата открытия" Width="100" DisplayMemberBinding="{Binding Start, StringFormat='d-MM-yyyy'}" />
            <GridViewColumn Header="Дата окончания" Width="100" DisplayMemberBinding="{Binding Finish, StringFormat='d-MM-yyyy'}" />
            <GridViewColumn Header="Вал"            Width="40" DisplayMemberBinding="{Binding MainCurrency}" />
            <GridViewColumn Header="Сумма открытия" Width="100" CellTemplate="{StaticResource AmountColumnStyle}" />
            <GridViewColumn Header="Текущий остаток" Width="100" CellTemplate="{StaticResource CurrentBalanceColumnStyle}" />
            <GridViewColumn Header="Прибыль"        Width="100" CellTemplate="{StaticResource ProfitColumnStyle}" />
          </GridView>
        </ListView.View>
      </ListView>
      <ListBox Name="TotalsList" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="2" Padding="2,2,7,4"/>
    </StackPanel>
  </Grid>
</Window>
